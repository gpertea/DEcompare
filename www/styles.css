/* www/styles.css */

/* --- General --- */
body {
    min-width: calc(480px + 600px + 40px); /* DLS_WIDTH + MIN_CAVS_WIDTH + padding/margins */
    min-height: 650px; /* MIN_CAVS_HEIGHT + some header/footer space */
    overflow: auto !important; /* Ensure scrollbars appear on body if needed */
  }

  .bslib-page-sidebar > .main {
    padding: 5px !important; /* Reduce padding around CAVS */
    min-width: 600px; /* Ensure main content respects min width */
  }

  .bslib-sidebar-layout > .sidebar {
     padding: 5px !important; /* Reduce padding around DLS */
  }

  /* --- Data Loader Section (DLS) --- */

  /* Style the file input to be more compact */
  .shiny-input-container .form-group {
    margin-bottom: 0 !important; /* Remove bottom margin */
  }
  .shiny-input-container label {
     margin-bottom: 0.1rem !important; /* Reduce space below labels */
  }

  /* Attempt to hide default file input text/progress */
  input[type="file"] {
    font-size: 0.8rem; /* Smaller font for button */
  }
  /* More specific selector might be needed depending on exact HTML structure */
  .shiny-input-file .progress {
    display: none !important;
  }
  .shiny-input-file > label ~ div { /* Hide the text placeholder if possible */
     display: none !important;
  }

  /* Style the filename display area */
  .file-name-display {
    display: block; /* Ensure it takes block space */
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    font-style: italic;
    padding-left: 5px;
  }

  /* Ensure elements in the label row don't wrap */
  .data-loader-label-row {
    flex-wrap: nowrap !important;
    align-items: center; /* Vertically center items */
  }
  .data-loader-label-row > div {
    padding-right: 5px !important; /* Add small spacing */
    padding-left: 0px !important;
  }
  .data-loader-label-row .form-label {
    white-space: nowrap; /* Prevent label text wrapping */
  }

  /* Adjust slider margin */
  .shiny-input-slider {
    margin-bottom: 0;
  }

  /* Style the summary text at the bottom of DLS */
  .card-body .row:last-child > div {
    font-size: 0.9em;
    font-weight: bold;
    color: #006400; /* Dark green */
  }
  .card-body .row:last-child b {
     color: #006400; /* Ensure bold text is also green */
  }

  /* Style the feature/FDR counts */
  .data-loader-label-row .html-output {
     font-size: 0.9em;
     white-space: nowrap;
  }
  .data-loader-label-row .html-output b {
     color: #333; /* Standard bold color */
  }


  /* --- Concordance/Visualization Section (CAVS) --- */
  .nav-tabs {
    margin-bottom: 0 !important; /* Remove space below tabs */
  }

  .tab-content {
    /* Make tab content fill available space within the flex container */
    flex-grow: 1;
    display: flex; /* Allow content inside to flex */
    flex-direction: column;
    min-height: 0; /* Prevent flex item from overflowing */
    border: 1px solid #ddd; /* Add border like bslib cards */
    border-top: none; /* Remove top border as tabs have bottom border */
    padding: 5px; /* Add some padding */
  }

  .tab-pane {
     /* Make tab panes also flex containers */
     display: flex;
     flex-direction: column;
     flex-grow: 1;
  }

  .cavs-summary-section {
    font-size: 0.9em;
    line-height: 1.4;
  }
  .cavs-summary-section b {
    color: #006400; /* Dark green */
  }

  /* Ensure plotly outputs resize correctly within flex containers */
  .js-plotly-plot .plotly, .js-plotly-plot {
      height: 100% !important;
      width: 100% !important;
  }

  /* Style the accordion button */
  .card-header button {
    font-weight: bold;
  }
  .card-header button .bs-icon {
    transition: transform 0.2s ease-in-out;
  }
  .card-header button[aria-expanded="false"] .bs-icon {
    transform: rotate(-90deg);
  }
